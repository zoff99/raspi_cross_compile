machine:
  timezone:
    Europe/Vienna
  environment:
    MAKEFLAGS: "j4"
    PATH: ~/cc/tools/arm-bcm2708/arm-rpi-4.9.3-linux-gnueabihf/bin:~/cc/tools/arm-bcm2708/arm-rpi-4.9.3-linux-gnueabihf/arm-linux-gnueabihf/bin:$PATH
    TOOL_PREFIX: arm-linux-gnueabihf
    CXX: $TOOL_PREFIX-g++
    AR: $TOOL_PREFIX-ar
    RANLIB: $TOOL_PREFIX-ranlib
    CC: $TOOL_PREFIX-gcc
    LD: $TOOL_PREFIX-ld
dependencies:
  pre:
    - sudo apt-get update
    - sudo apt-get install build-essential libtool autotools-dev automake git

    - mkdir ~/cc/
    - cd ~/cc ; git clone https://github.com/raspberrypi/tools
    - cd ~/cc/tools/ ; git checkout d820ab9c21969013b4e56c7e9cba25518afcdd44
    - mkdir ~/rasp_sysroot/
    - cd ~/rasp_sysroot/ ; git clone https://github.com/sdhibit/docker-rpi-raspbian
    - cd ~/rasp_sysroot/docker-rpi-raspbian/ ; git checkout b05275e230317417b7575790789707c21cc639c1
    - cd ~/rasp_sysroot/docker-rpi-raspbian/ ; xz -dv raspbian.*.xz ; mkdir sysroot ; cd sysroot ; tar -xvf ../raspbian.*.tar
    - cd ~/rasp_sysroot/docker-rpi-raspbian/ ; ls -al ; ls -al sysroot
compile:
  override:
    - echo dummy
    - type -a arm-linux-gnueabihf-g++
    - type -a arm-linux-gnueabihf-gcc
    - arm-linux-gnueabihf-g++ -v
    - arm-linux-gnueabihf-gcc -v
test:
  override:
    - echo dummy



